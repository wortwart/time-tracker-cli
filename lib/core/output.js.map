{"version":3,"sources":["../../src/core/output.js"],"names":["summarize","search","tasks","rate","full","format","table","head","chars","colAligns","style","total","forEach","task","index","name","duration","getSeconds","push","getStartDate","console","log","toString","table2","outputConfig","config","Object","keys","map","e","outputVertical","args","key","splice","cliError","err","error","red","cliSuccess","green"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEO,IAAMA,gCAAY,SAAZA,SAAY,CAASC,MAAT,EAAiBC,KAAjB,EAAwBC,IAAxB,EAA8BC,IAA9B,EAAoCC,MAApC,EAA4C;AACpE,KAAIC,QAAQ,uBAAU;AACrBC,QAAM,CAAC,UAAD,EAAa,OAAb,EAAsB,MAAtB,CADe;AAErBC,SAAO,EAAC,OAAO,EAAR,EAAY,YAAY,EAAxB,EAA4B,WAAW,EAAvC,EAA2C,aAAa,EAAxD,EAFc;AAGrBC,aAAW,CAAC,OAAD,EAAU,QAAV,EAAoB,MAApB,CAHU;AAIrBC,SAAO,EAAEH,MAAM,CAAC,OAAD,CAAR;AAJc,EAAV,CAAZ;AAMA,KAAII,QAAQ,CAAZ;AACA,KAAIJ,oBAAiBN,MAAjB,QAAJ;;AAEAC,OAAMU,OAAN,CAAc,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC9B,MAAIC,OAAOF,KAAKE,IAAhB;AACAF,SAAOA,KAAKA,IAAZ;AACA,MAAIG,WAAWH,KAAKI,UAAL,EAAf;AACAN,WAASK,QAAT;AACAV,QAAMY,IAAN,CAAW,CAAC,2BAAeF,QAAf,CAAD,EAA2B,sBAAOH,KAAKM,YAAL,EAAP,EAA4Bd,MAA5B,CAAmCA,MAAnC,CAA3B,EAAuEU,IAAvE,CAAX;AACA,EAND;;AAQAK,SAAQC,GAAR,CAAYf,MAAMgB,QAAN,EAAZ;;AAEA,KAAIlB,IAAJ,EAAU;AACT,MAAImB,SAAS,wBAAb;AACAA,SAAOL,IAAP,CACC,EAAC,UAAU,CAAC,OAAOjB,MAAP,GAAgB,IAAjB,CAAX,EADD,EAEC,EAAC,cAAc,CAAC,2BAAeU,KAAf,CAAD,CAAf,EAFD;AAIA,MAAIR,IAAJ,EACCoB,OAAOL,IAAP,CAAY,EAAE,QAAQ,CAAC,qBAASf,IAAT,EAAeQ,KAAf,CAAD,CAAV,EAAZ;AACDS,UAAQC,GAAR,CAAYE,OAAOD,QAAP,EAAZ;AACA;AACD,CA9BM;;AAgCA,IAAME,sCAAe,SAAfA,YAAe,CAAUC,MAAV,EAAkB;AAC7C,KAAInB,QAAQ,uBAAU;AACrBC,QAAM,CAAC,KAAD,EAAQ,OAAR,CADe;AAErBC,SAAO,EAAC,OAAO,EAAR,EAAY,YAAY,EAAxB,EAA4B,WAAW,EAAvC,EAA2C,aAAa,EAAxD,EAFc;AAGrBC,aAAW,CAAC,QAAD,EAAW,QAAX,CAHU;AAIrBC,SAAO,EAAEH,MAAM,CAAC,OAAD,CAAR;AAJc,EAAV,CAAZ;AAMAmB,QAAOC,IAAP,CAAYF,MAAZ,EAAoBG,GAApB,CAAwB;AAAA,SAAKtB,MAAMY,IAAN,CAAW,CAACW,CAAD,EAAIJ,OAAOI,CAAP,CAAJ,CAAX,CAAL;AAAA,EAAxB;AACAT,SAAQC,GAAR,CAAYf,MAAMgB,QAAN,EAAZ;AACA,CATM;;AAWA,IAAMQ,0CAAiB,SAAjBA,cAAiB,GAAmB;AAAA,mCAANC,IAAM;AAANA,MAAM;AAAA;;AAChD,KAAIR,SAAS,wBAAb;AACC,KAAIS,MAAMD,KAAKE,MAAL,CAAY,CAAZ,EAAe,CAAf,CAAV;AACAV,QAAOL,IAAP,qBACIc,GADJ,EACUD,IADV;AAGA,QAAOR,OAAOD,QAAP,EAAP;AACD,CAPM;;AASA,IAAMY,8BAAW,SAAXA,QAAW,CAASC,GAAT,EAAc;AACrCf,SAAQgB,KAAR,CAAc,gBAAMC,GAAN,aAAoBF,GAApB,CAAd;AACA,CAFM;;AAIA,IAAMG,kCAAa,SAAbA,UAAa,CAASH,GAAT,EAAc;AACvCf,SAAQC,GAAR,CAAY,gBAAMkB,KAAN,CAAYJ,GAAZ,CAAZ;AACA,CAFM","file":"output.js","sourcesContent":["import moment from 'moment'\nimport Table from 'cli-table'\nimport chalk from 'chalk'\nimport {humanParseDiff, calcRate} from './utils'\n\nexport const summarize = function(search, tasks, rate, full, format) {\n\tlet table = new Table({\n\t\thead: ['Duration', 'Dates', 'Task'],\n\t\tchars: {'mid': '', 'left-mid': '', 'mid-mid': '', 'right-mid': ''},\n\t\tcolAligns: ['right', 'center', 'left'],\n\t\tstyle: { head: ['green'] }\n\t});\n\tlet total = 0\n\tlet head= `Search: ${search} \\n`\n\n\ttasks.forEach((task, index) => {\n\t\tlet name = task.name\n\t\ttask = task.task\n\t\tlet duration = task.getSeconds()\n\t\ttotal += duration\n\t\ttable.push([humanParseDiff(duration), moment(task.getStartDate()).format(format), name])\n\t})\n\n\tconsole.log(table.toString());\n\n\tif (full) {\n\t\tlet table2 = new Table()\n\t\ttable2.push(\n\t\t\t{'Search': ['\\\"' + search + '\\\"']},\n\t\t\t{'Total time': [humanParseDiff(total)]}\n\t\t)\n\t\tif (rate)\n\t\t\ttable2.push({ 'Rate': [calcRate(rate, total)] })\n\t\tconsole.log(table2.toString());\n\t}\n}\n\nexport const outputConfig = function (config) {\n\tlet table = new Table({\n\t\thead: ['Key', 'value'],\n\t\tchars: {'mid': '', 'left-mid': '', 'mid-mid': '', 'right-mid': ''},\n\t\tcolAligns: ['center', 'center'],\n\t\tstyle: { head: ['green'] }\n\t});\n\tObject.keys(config).map(e => table.push([e, config[e]]))\n\tconsole.log(table.toString());\n}\n\nexport const outputVertical = function (...args) {\n\tlet table2 = new Table()\n\t\tlet key = args.splice(0, 1)\n\t\ttable2.push(\n\t\t\t{ [key]: args },\n\t\t)\n\t\treturn table2.toString()\n}\n\nexport const cliError = function(err) {\n\tconsole.error(chalk.red(`Error: ${err}`))\n}\n\nexport const cliSuccess = function(err) {\n\tconsole.log(chalk.green(err))\n}\n"]}